{"version":3,"sources":["webpack:///./examples/path.js","webpack:///./src/plugin/PathPlugin.jsx"],"names":["Tween","plugins","push","Demo","p","p2","position","width","margin","duration","path","repeat","ease","opacity","height","left","top","background","ReactDom","render","document","getElementById","PathPlugin","target","vars","x","y","rotate","parsePath","start","pathLength","getTotalLength","prototype","name","useStyle","getPoint","offset","o","progress","getPointAtLength","getAnimStart","computedStyle","isSvg","transform","getTransform","checkStyleName","data","setRatio","r","t","p0","p1","translateX","translateY","Math","atan2","PI","style","getTransformValue","transformSVG","createMatrix","toString"],"mappings":"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","file":"examples/path.js","sourcesContent":["import Tween from 'rc-tween-one';\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport PathPlugin from '../src/plugin/PathPlugin';\n\nTween.plugins.push(PathPlugin);\n\nfunction Demo() {\n  const p = `M50.952,85.619C31.729,84.841,23.557,73.62,24.095,42.952\n    c0.381-21.714,6.667-33.714,30.286-34.476\n    c36.572-1.18,59.81,77.714,102.667,76.381c30.108-0.937,34.268-32.381,34.095-41.714\n    C190.762,22.571,180.493,6.786,159.524,6C113.81,4.286,98,87.524,50.952,85.619z`;\n\n  const p2 = \"M0,0,L100, 0L100, 100L0, 100Z\";\n  return (\n    <div style={{ position: 'relative', width: 200, margin: 'auto' }}>\n      <Tween\n        animation={{ duration: 3000, path: p, repeat: -1, ease: 'linear' }}\n        style={{\n          opacity: 1,\n          position: 'absolute',\n          width: '30px',\n          height: '30px',\n          left: '-15px',\n          top: '-15px',\n          background: '#fff000',\n        }}\n      />\n      <Tween\n        animation={{ duration: 3000, path: p2, repeat: -1, ease: 'linear' }}\n        style={{\n          opacity: 1,\n          position: 'absolute',\n          width: '30px',\n          height: '30px',\n          left: '-15px',\n          top: '-15px',\n          background: '#fff000',\n        }}\n      />\n      <svg>\n        <path fill=\"none\" stroke=\"#000\" d={p} />\n        <path fill=\"none\" stroke=\"#000\" d={p2} />\n      </svg>\n    </div>);\n}\n\nReactDom.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/path.js","import {\n  checkStyleName,\n  getTransform,\n  createMatrix,\n} from 'style-utils';\nimport { parsePath, getTransformValue } from '../util';\n\nfunction PathPlugin(target, vars) {\n  this.target = target;\n  const path = typeof vars === 'string' ? vars : vars.x || vars.y || vars.rotate;\n  this.vars = vars;\n  this.path = parsePath(path);\n  this.start = {};\n  this.pathLength = this.path.getTotalLength();\n}\n\nPathPlugin.prototype = {\n  name: 'path',\n  useStyle: 'transform',\n  getPoint(offset) {\n    const o = offset || 0;\n    const p = this.pathLength * this.progress + o;\n    return this.path.getPointAtLength(p);\n  },\n  getAnimStart(computedStyle, isSvg) {\n    const transform = getTransform(computedStyle[isSvg ?\n      'transformSVG' : checkStyleName('transform')]);\n    this.start = transform;\n    this.data = { ...transform };\n  },\n  setRatio(r, t, computedStyle) {\n    this.progress = r;\n    const p = this.getPoint();\n    const p0 = this.getPoint(-1);\n    const p1 = this.getPoint(1);\n    if (typeof this.vars === 'string') {\n      this.data.translateX = p.x + this.start.translateX;\n      this.data.translateY = p.y + this.start.translateY;\n      this.data.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n    } else {\n      this.data.translateX = this.vars.x ? p.x + this.start.translateX : this.data.translateX;\n      this.data.translateY = this.vars.y ? p.y + this.start.translateY : this.data.translateY;\n      this.data.rotate = this.vars.rotate ?\n        Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI : this.data.rotate;\n    }\n    t.style.transform = getTransformValue(this.data);\n    if (computedStyle) {\n      computedStyle.transformSVG = createMatrix(t.style.transform).toString();\n    }\n  },\n};\n\nexport default PathPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/PathPlugin.jsx"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/plugin/PathPlugin.jsx","webpack:///./examples/path.js"],"names":["PathPlugin","target","vars","path","x","y","rotate","parsePath","start","pathLength","getTotalLength","prototype","name","useStyle","getPoint","offset","o","p","progress","getPointAtLength","getAnimStart","computedStyle","isSvg","transform","getTransform","checkStyleName","data","setRatio","r","t","p0","p1","translateX","translateY","Math","atan2","PI","style","getTransformValue","transformSVG","createMatrix","toString","Tween","plugins","push","Demo","arguments","position","width","margin","duration","repeat","ease","opacity","height","left","top","background","React","Component","ReactDom","render","document","getElementById"],"mappings":"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","file":"examples/path.js","sourcesContent":["import { parsePath, getTransformValue } from '../util';\nimport {\n  checkStyleName,\n  getTransform,\n  createMatrix,\n} from 'style-utils';\n\nfunction PathPlugin(target, vars) {\n  this.target = target;\n  const path = typeof vars === 'string' ? vars : vars.x || vars.y || vars.rotate;\n  this.vars = vars;\n  this.path = parsePath(path);\n  this.start = {};\n  this.pathLength = this.path.getTotalLength();\n}\n\nPathPlugin.prototype = {\n  name: 'path',\n  useStyle: 'transform',\n  getPoint(offset) {\n    const o = offset || 0;\n    const p = this.pathLength * this.progress + o;\n    return this.path.getPointAtLength(p);\n  },\n  getAnimStart(computedStyle, isSvg) {\n    const transform = getTransform(computedStyle[isSvg ?\n      'transformSVG' : checkStyleName('transform')]);\n    this.start = transform;\n    this.data = { ...transform };\n  },\n  setRatio(r, t, computedStyle) {\n    this.progress = r;\n    const p = this.getPoint();\n    const p0 = this.getPoint(-1);\n    const p1 = this.getPoint(1);\n    if (typeof this.vars === 'string') {\n      this.data.translateX = p.x + this.start.translateX;\n      this.data.translateY = p.y + this.start.translateY;\n      this.data.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n    } else {\n      this.data.translateX = this.vars.x ? p.x + this.start.translateX : this.data.translateX;\n      this.data.translateY = this.vars.y ? p.y + this.start.translateY : this.data.translateY;\n      this.data.rotate = this.vars.rotate ?\n        Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI : this.data.rotate;\n    }\n    t.style.transform = getTransformValue(this.data);\n    if (computedStyle) {\n      computedStyle.transformSVG = createMatrix(t.style.transform).toString();\n    }\n  },\n};\n\nexport default PathPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/PathPlugin.jsx","import Tween from 'rc-tween-one';\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport PathPlugin from '../src/plugin/PathPlugin';\nTween.plugins.push(PathPlugin);\n\nclass Demo extends React.Component {\n  constructor() {\n    super(...arguments);\n  }\n\n  render() {\n    const p = `M50.952,85.619C31.729,84.841,23.557,73.62,24.095,42.952\n    c0.381-21.714,6.667-33.714,30.286-34.476\n    c36.572-1.18,59.81,77.714,102.667,76.381c30.108-0.937,34.268-32.381,34.095-41.714\n    C190.762,22.571,180.493,6.786,159.524,6C113.81,4.286,98,87.524,50.952,85.619z`;\n    return (\n      <div style={{ position: 'relative', width: 200, margin: 'auto' }}>\n        <Tween\n          animation={{ duration: 3000, path: p, repeat: -1, ease: 'linear' }}\n          style={{\n            opacity: 1,\n            position: 'absolute',\n            width: '30px',\n            height: '30px',\n            left: '-15px',\n            top: '-15px',\n            background: '#fff000',\n          }}\n        />\n        <svg>\n          <path fill=\"none\" stroke=\"#000\" d={p} />\n        </svg>\n      </div>);\n  }\n}\nReactDom.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/path.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./examples/path.js","webpack:///./src/plugin/PathPlugin.jsx"],"names":["plugins","push","Demo","arguments","render","p","position","width","margin","duration","path","repeat","ease","opacity","height","left","top","background","Component","document","getElementById","PathPlugin","target","vars","x","y","rotate","start","pathLength","getTotalLength","prototype","name","useStyle","getPoint","offset","o","progress","getPointAtLength","getAnimStart","computedStyle","transform","data","setRatio","r","t","p0","p1","translateX","translateY","Math","atan2","PI","style"],"mappings":"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","file":"path.js","sourcesContent":["import Tween from 'rc-tween-one';\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport PathPlugin from '../src/plugin/PathPlugin';\nTween.plugins.push(PathPlugin);\n\nclass Demo extends React.Component {\n  constructor() {\n    super(...arguments);\n  }\n\n  render() {\n    const p = `M50.952,85.619C31.729,84.841,23.557,73.62,24.095,42.952\n    c0.381-21.714,6.667-33.714,30.286-34.476\n    c36.572-1.18,59.81,77.714,102.667,76.381c30.108-0.937,34.268-32.381,34.095-41.714\n    C190.762,22.571,180.493,6.786,159.524,6C113.81,4.286,98,87.524,50.952,85.619z`;\n    return (\n      <div style={{ position: 'relative', width: 200, margin: 'auto' }}>\n        <Tween\n          animation={{ duration: 3000, path: p, repeat: -1, ease: 'linear' }}\n          style={{\n            opacity: 1,\n            position: 'absolute',\n            width: '30px',\n            height: '30px',\n            left: '-15px',\n            top: '-15px',\n            background: '#fff000',\n          }}\n        />\n        <svg>\n          <path fill=\"none\" stroke=\"#000\" d={p} />\n        </svg>\n      </div>);\n  }\n}\nReactDom.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/path.js","import { parsePath, getTransformValue } from '../util';\nimport {\n  checkStyleName,\n  getTransform,\n} from 'style-utils';\n\nconst PathPlugin = function (target, vars) {\n  this.target = target;\n  const path = typeof vars === 'string' ? vars : vars.x || vars.y || vars.rotate;\n  this.vars = vars;\n  this.path = parsePath(path);\n  this.start = {};\n  this.pathLength = this.path.getTotalLength();\n};\n\nPathPlugin.prototype = {\n  name: 'path',\n  useStyle: 'transform',\n  getPoint(offset) {\n    const o = offset || 0;\n    const p = this.pathLength * this.progress + o;\n    return this.path.getPointAtLength(p);\n  },\n  getAnimStart(computedStyle) {\n    const transform = getTransform(computedStyle[checkStyleName('transform')]);\n    this.start = transform;\n    this.data = { ...transform };\n  },\n  setRatio(r, t) {\n    this.progress = r;\n    const p = this.getPoint();\n    const p0 = this.getPoint(-1);\n    const p1 = this.getPoint(1);\n    if (typeof this.vars === 'string') {\n      this.data.translateX = p.x + this.start.translateX;\n      this.data.translateY = p.y + this.start.translateY;\n      this.data.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n    } else {\n      this.data.translateX = this.vars.x ? p.x + this.start.translateX : this.data.translateX;\n      this.data.translateY = this.vars.y ? p.y + this.start.translateY : this.data.translateY;\n      this.data.rotate = this.vars.rotate ?\n        Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI : this.data.rotate;\n    }\n    t.style.transform = getTransformValue(this.data);\n  },\n};\n\nexport default PathPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/PathPlugin.jsx"],"sourceRoot":""}
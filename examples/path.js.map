{"version":3,"sources":["webpack:///./examples/path.js","webpack:///./src/plugin/PathPlugin.jsx"],"names":[],"mappings":"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","file":"path.js","sourcesContent":["import Tween from 'rc-tween-one';\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport PathPlugin from '../src/plugin/PathPlugin';\nTween.plugins.push(PathPlugin);\n\nclass Demo extends React.Component {\n  constructor() {\n    super(...arguments);\n  }\n\n  render() {\n    const p = `M50.952,85.619C31.729,84.841,23.557,73.62,24.095,42.952\n    c0.381-21.714,6.667-33.714,30.286-34.476\n    c36.572-1.18,59.81,77.714,102.667,76.381c30.108-0.937,34.268-32.381,34.095-41.714\n    C190.762,22.571,180.493,6.786,159.524,6C113.81,4.286,98,87.524,50.952,85.619z`;\n    return (\n      <div style={{ position: 'relative', width: 200, margin: 'auto' }}>\n        <Tween\n          animation={{ duration: 3000, path: p, repeat: -1, ease: 'linear' }}\n          style={{\n            opacity: 1,\n            position: 'absolute',\n            width: '30px',\n            height: '30px',\n            left: '-15px',\n            top: '-15px',\n            background: '#fff000',\n          }}\n        />\n        <svg>\n          <path fill=\"none\" stroke=\"#000\" d={p} />\n        </svg>\n      </div>);\n  }\n}\nReactDom.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/path.js\n **/","import { parsePath, getTransformValue } from '../util';\nimport {\n  checkStyleName,\n  getTransform,\n} from 'style-utils';\n\nconst PathPlugin = function (target, vars) {\n  this.target = target;\n  const path = typeof vars === 'string' ? vars : vars.x || vars.y || vars.rotate;\n  this.vars = vars;\n  this.path = parsePath(path);\n  this.start = {};\n  this.pathLength = this.path.getTotalLength();\n};\n\nPathPlugin.prototype = {\n  name: 'path',\n  getComputedStyle() {\n    return document.defaultView ? document.defaultView.getComputedStyle(this.target) : {};\n  },\n  getPoint(offset) {\n    const o = offset || 0;\n    const p = this.pathLength * this.progress + o;\n    return this.path.getPointAtLength(p);\n  },\n  getAnimStart() {\n    const computedStyle = this.getComputedStyle();\n    const transform = getTransform(computedStyle[checkStyleName('transform')]);\n    this.willChange = 'transform';\n    this.start = transform;\n    this.data = { ...transform };\n  },\n  setRatio(r, t) {\n    this.progress = r;\n    const p = this.getPoint();\n    const p0 = this.getPoint(-1);\n    const p1 = this.getPoint(1);\n    if (typeof this.vars === 'string') {\n      this.data.translateX = p.x + this.start.translateX;\n      this.data.translateY = p.y + this.start.translateY;\n      this.data.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n    } else {\n      this.data.translateX = this.vars.x ? p.x + this.start.translateX : this.data.translateX;\n      this.data.translateY = this.vars.y ? p.y + this.start.translateY : this.data.translateY;\n      this.data.rotate = this.vars.rotate ?\n        Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI : this.data.rotate;\n    }\n    t.style.transform = getTransformValue(this.data);\n  },\n};\n\nexport default PathPlugin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugin/PathPlugin.jsx\n **/"],"sourceRoot":""}
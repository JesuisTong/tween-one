{"version":3,"sources":["webpack:///./src/plugin/ChildrenPlugin.jsx","webpack:///./assets/index.less?8fdf","webpack:///./examples/children.js"],"names":["ChildrenPlugin","target","vars","prototype","name","getAnimStart","start","startAt","value","parseFloat","innerHTML","toMoney","v","_opts","opts","thousand","decimal","negative","numberArray","toString","split","base","Math","abs","parseInt","mod","length","substr","replace","setRatio","ratio","floatLength","formatMoney","toFixed","l","Array","fill","forEach","num","round","Tween","plugins","push","Demo","marginBottom","Children","ReactDom","render","document","getElementById"],"mappings":"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","file":"examples/children.js","sourcesContent":["import {\n  toFixed,\n} from 'style-utils';\n\nconst ChildrenPlugin = function (target, vars) {\n  this.target = target;\n  this.vars = vars;\n};\n\nChildrenPlugin.prototype = {\n  name: 'Children',\n  getAnimStart() {\n    this.start = this.vars.startAt || { value: parseFloat(this.target.innerHTML) || 0 };\n  },\n  toMoney(v, _opts) {\n    const opts = {\n      thousand: _opts.thousand || ',',\n      decimal: _opts.decimal || '.',\n    };\n    const negative = parseFloat(v) < 0 ? '-' : '';\n    const numberArray = v.toString().split('.');\n    const base = Math.abs(parseInt(numberArray[0], 10)).toString();\n    const mod = base.length > 3 ? base.length % 3 : 0;\n    const decimal = numberArray[1];\n    return `${negative}${mod ? `${base.substr(0, mod)}${opts.thousand}` : ''}${\n      base.substr(mod).replace(/(\\d{3})(?=\\d)/g, `$1${opts.thousand}`)}${\n      decimal ? `${opts.decimal}${decimal}` : ''\n      }`;\n  },\n  setRatio(ratio) {\n    const { value, floatLength, formatMoney } = this.vars;\n    let v = (value - this.start.value) * ratio + this.start.value;\n    if (typeof floatLength === 'number') {\n      if (floatLength) {\n        v = toFixed(v, floatLength);\n        const numberArray = v.toString().split('.');\n        let decimal = numberArray[1] || '';\n        const l = floatLength - decimal.length;\n        if (l) {\n          Array(l).fill(0).forEach(num => {\n            decimal += `${num}`;\n          });\n        }\n        v = `${numberArray[0]}.${decimal}`;\n      } else {\n        v = Math.round(v);\n      }\n    }\n    v = formatMoney ? this.toMoney(v, formatMoney) : v;\n    this.target.innerHTML = v;\n  },\n};\n\nexport default ChildrenPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/ChildrenPlugin.jsx","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/index.less\n// module id = 15\n// module chunks = 4 7 9 10","import Tween from 'rc-tween-one';\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport '../assets/index.less';\nimport ChildrenPlugin from 'rc-tween-one/lib/plugin/ChildrenPlugin';\n\nTween.plugins.push(ChildrenPlugin);\nfunction Demo() {\n  return (<div>\n    <h2>子级的数值变化的动画 - children plugin</h2>\n    <div style={{ marginBottom: 20 }}>\n      <span>基本数字：</span>\n      <Tween\n        animation={{ Children: { value: 10000 } }}\n      />\n    </div>\n    <div style={{ marginBottom: 20 }}>\n      <span>设置开始数字：</span>\n      <Tween\n        animation={{ Children: { value: 10000 } }}\n      >\n        9990\n      </Tween>\n    </div>\n    <div style={{ marginBottom: 20 }}>\n      <span>只取整数：</span>\n      <Tween\n        animation={{ Children: { value: 10000, floatLength: 0 } }}\n      />\n    </div>\n    <div style={{ marginBottom: 20 }}>\n      <span>基本数字, 小数后取两位, float length 2：</span>\n      <Tween\n        animation={{ Children: { value: 10000, floatLength: 2 } }}\n      />\n    </div>\n    <div style={{ marginBottom: 20 }}>\n      <span>格式化钱符：</span>\n      <div>\n        <span>¥</span>\n        <Tween\n          animation={{ Children: { value: 10000, floatLength: 2, formatMoney: true } }}\n          component=\"span\"\n        />\n      </div>\n    </div>\n    <div style={{ marginBottom: 20 }}>\n      <span>自定义钱符格式：</span>\n      <div>\n        <span>¥</span>\n        <Tween\n          animation={{\n            Children: {\n              value: 10000,\n              floatLength: 2,\n              formatMoney: { thousand: '^', decimal: '%' },\n            },\n          }}\n          component=\"span\"\n        />\n      </div>\n    </div>\n  </div>);\n}\n\nReactDom.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/children.js"],"sourceRoot":""}
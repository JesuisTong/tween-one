{"version":3,"sources":["webpack:///./examples/children.js","webpack:///./src/plugin/ChildrenPlugin.jsx","webpack:///./assets/index.less?b3e7"],"names":["Tween","plugins","push","ChildrenPlugin","Demo","marginBottom","Children","value","floatLength","formatMoney","thousand","decimal","ReactDom","render","document","getElementById","target","vars","prototype","name","getAnimStart","opts","rep","RegExp","start","startAt","parseFloat","innerHTML","replace","toMoney","v","_opts","negative","numberArray","toString","split","base","Math","abs","parseInt","mod","length","substr","setRatio","ratio","toFixed","substring","l","Array","fill","forEach","num","round"],"mappings":"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","file":"examples/children.js","sourcesContent":["import Tween from 'rc-tween-one';\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport ChildrenPlugin from '../src/plugin/ChildrenPlugin';\n\nimport '../assets/index.less';\n\nTween.plugins.push(ChildrenPlugin);\nfunction Demo() {\n  return (\n    <div>\n      <h2>子级的数值变化的动画 - children plugin</h2>\n      <div style={{ marginBottom: 20 }}>\n        <span>基本数字：</span>\n        <Tween\n          animation={{ Children: { value: 10000 } }}\n        />\n      </div>\n      <div style={{ marginBottom: 20 }}>\n        <span>设置开始数字：</span>\n        <Tween\n          animation={{ Children: { value: 10000 } }}\n        >\n          9990\n        </Tween>\n      </div>\n      <div style={{ marginBottom: 20 }}>\n        <span>只取整数：</span>\n        <Tween\n          animation={{ Children: { value: 10000, floatLength: 0 } }}\n        />\n      </div>\n      <div style={{ marginBottom: 20 }}>\n        <span>基本数字, 小数后取两位, float length 2：</span>\n        <Tween\n          animation={{ Children: { value: 10000, floatLength: 2 } }}\n        />\n      </div>\n      <div style={{ marginBottom: 20 }}>\n        <span>格式化钱符：</span>\n        <div>\n          <span>¥</span>\n          <Tween\n            animation={{ Children: { value: 10000, floatLength: 2, formatMoney: true } }}\n            component=\"span\"\n          >\n            20,000.12\n          </Tween>\n        </div>\n      </div>\n      <div style={{ marginBottom: 20 }}>\n        <span>自定义钱符格式：</span>\n        <div>\n          <span>¥</span>\n          <Tween\n            animation={{\n              Children: {\n                value: 10000,\n                floatLength: 2,\n                formatMoney: { thousand: '.', decimal: ',' },\n              },\n            }}\n            component=\"span\"\n          >\n          20.000,12\n          </Tween>\n        </div>\n      </div>\n    </div>);\n}\n\nReactDom.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/children.js","/* eslint-disable func-names */\nimport {\n  toFixed,\n} from 'style-utils';\n\nconst ChildrenPlugin = function (target, vars) {\n  this.target = target;\n  this.vars = vars;\n};\n\nChildrenPlugin.prototype = {\n  name: 'Children',\n  getAnimStart() {\n    const { formatMoney } = this.vars;\n    const opts = {\n      thousand: formatMoney && formatMoney.thousand || ',',\n      decimal: formatMoney && formatMoney.decimal || '.',\n    };\n    const rep = new RegExp(`\\\\${opts.thousand}`, 'g');\n    this.start = this.vars.startAt || {\n      value: parseFloat(this.target.innerHTML.replace(rep, '').replace(opts.decimal, '.')) || 0\n    };\n  },\n  toMoney(v, _opts) {\n    const opts = {\n      thousand: _opts.thousand || ',',\n      decimal: _opts.decimal || '.',\n    };\n    const negative = parseFloat(v) < 0 ? '-' : '';\n    const numberArray = v.toString().split('.');\n    const base = Math.abs(parseInt(numberArray[0], 10)).toString();\n    const mod = base.length > 3 ? base.length % 3 : 0;\n    const decimal = numberArray[1];\n    return `${negative}${mod ? `${base.substr(0, mod)}${opts.thousand}` : ''}${\n      base.substr(mod).replace(/(\\d{3})(?=\\d)/g, `$1${opts.thousand}`)}${\n      decimal ? `${opts.decimal}${decimal}` : ''\n    }`;\n  },\n  setRatio(ratio) {\n    const { value, floatLength, formatMoney } = this.vars;\n    let v = (value - this.start.value) * ratio + this.start.value;\n    if (typeof floatLength === 'number') {\n      if (floatLength) {\n        v = toFixed(v, floatLength);\n        const numberArray = v.toString().split('.');\n        let decimal = numberArray[1] || '';\n        decimal = decimal.length > floatLength ? decimal.substring(0, floatLength) : decimal;\n        const l = floatLength - decimal.length;\n        if (l) {\n          Array(l).fill(0).forEach(num => {\n            decimal += `${num}`;\n          });\n        }\n        v = `${numberArray[0]}.${decimal}`;\n      } else {\n        v = Math.round(v);\n      }\n    }\n    v = formatMoney ? this.toMoney(v, formatMoney) : v;\n    this.target.innerHTML = v;\n  },\n};\n\nexport default ChildrenPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/ChildrenPlugin.jsx","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/index.less\n// module id = 16\n// module chunks = 4 7 9 10"],"sourceRoot":""}